"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[272],{8791:function(e,t,a){a.d(t,{I:function(){return i}});var s=a(7294),n=a(3007),r={InputWrapper:"p_6dRLUG",placeholder:"uWIRRz2O",input:"Z6IBiNl_",caretWrapper:"tDY7ayAp",caret:"Y3U88xm_",blink:"nAPg6J3a",readonly:"sFcbjx23"},l=a(5893);const i=(0,s.memo)((e=>{const{className:t,value:a,onChange:i,placeholder:c,autoFocus:o,type:d="text",readonly:u,...h}=e,p=(0,s.useRef)(null),[x,f]=(0,s.useState)(!1),[j,m]=(0,s.useState)(0),g=x&&!u;(0,s.useEffect)((()=>{o&&(f(!0),p.current?.focus())}),[o]);const C={[r.readonly]:u};return(0,l.jsxs)("div",{className:(0,n.A)(r.InputWrapper,C,[t]),children:[c&&(0,l.jsx)("div",{className:r.Placeholder,children:`${c}>`}),(0,l.jsxs)("div",{className:r.caretWrapper,children:[(0,l.jsx)("input",{ref:p,type:d,value:a,onChange:e=>{i?.(e.target.value),m(e.target.value.length)},className:r.input,onFocus:()=>{f(!0)},onBlur:()=>{f(!1)},onSelect:e=>{m(e?.target?.selectionStart||0)},readOnly:u,...h}),g&&(0,l.jsx)("span",{className:r.caret,style:{left:9*j+"px"}})]})]})}))},169:function(e,t,a){a.d(t,{I:function(){return o}});var s=a(7294),n=a(3007),r=a(6452),l=a(8969),i={InputWrapper:"ZyI7rxIe",s:"mKldd7L_",m:"IyQiG8hL",l:"j7JcqtN4",addonLeft:"OqwwYwm8",addonRight:"o_xLYaZC",withAddonLeft:"zVArqqw4",withAddonRight:"HxXya_r8",focused:"jUzuVRdk",input:"L2BiQ3jT",readonly:"xspqW3a0"},c=a(5893);const o=(0,s.memo)((e=>{const{className:t,value:a,onChange:o,type:d="text",placeholder:u,autofocus:h,readonly:p,addonLeft:x,addonRight:f,label:j,size:m="m",...g}=e,C=(0,s.useRef)(null),[v,k]=(0,s.useState)(!1);(0,s.useEffect)((()=>{h&&(k(!0),C.current?.focus())}),[h]);const y={[i.readonly]:p,[i.focused]:v,[i.withAddonLeft]:Boolean(x),[i.withAddonRight]:Boolean(f)},b=(0,c.jsxs)("div",{className:(0,n.A)(i.InputWrapper,y,[t,i[m]]),children:[(0,c.jsx)("div",{className:i.addonLeft,children:x}),(0,c.jsx)("input",{ref:C,type:d,value:a,onChange:e=>{o?.(e.target.value)},className:i.input,onFocus:()=>{k(!0)},onBlur:()=>{k(!1)},readOnly:p,placeholder:u,...g}),(0,c.jsx)("div",{className:i.addonRight,children:f})]});return j?(0,c.jsxs)(r.U,{max:!0,gap:"8",children:[(0,c.jsx)(l.x,{text:j}),b]}):b}))},9272:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var s,n=a(7294),r=a(2327),l=a(743),i=a(7499),c=a(4160),o=a(7702),d=a(7647),u=a(8791);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},h.apply(this,arguments)}var p=e=>n.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=n.createElement("path",{d:"M11.0746 1.633C11.3946 0.789 12.6056 0.789 12.9266 1.633L14.9966 7.367C15.0688 7.55379 15.1959 7.71428 15.3613 7.8273C15.5266 7.94031 15.7223 8.00053 15.9226 8H21.0096C21.9496 8 22.3596 9.17 21.6206 9.743L18.0006 13C17.8384 13.1247 17.7199 13.2975 17.6621 13.4937C17.6042 13.6898 17.61 13.8993 17.6786 14.092L19.0006 19.695C19.3226 20.595 18.2806 21.368 17.4926 20.814L12.5756 17.694C12.4072 17.5757 12.2064 17.5122 12.0006 17.5122C11.7948 17.5122 11.594 17.5757 11.4256 17.694L6.50856 20.814C5.72156 21.368 4.67856 20.594 5.00056 19.695L6.32257 14.092C6.39114 13.8993 6.39692 13.6898 6.33907 13.4937C6.28122 13.2975 6.16272 13.1247 6.00057 13L2.38056 9.743C1.64056 9.17 2.05256 8 2.99056 8H8.07756C8.27786 8.00067 8.47363 7.9405 8.63898 7.82747C8.80433 7.71444 8.93147 7.55387 9.00357 7.367L11.0736 1.633H11.0746Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),x=a(3007),f=a(7650),j=a(5635),m=a(5893);const g=[1,2,3,4,5],C=(0,n.memo)((e=>{const{className:t,selectedStars:a=0,onSelect:s,size:r=30}=e,[l,c]=(0,n.useState)(a),[o,d]=(0,n.useState)(Boolean(a)),u=()=>{o||c(0)},h=e=>()=>{o||(s?.(e),c(e),d(!0))};return(0,m.jsx)("div",{className:(0,x.A)((0,i.tn)({name:"isAppRedesigned",off:()=>"kxtOyXZf",on:()=>"DJmR4hmO"}),{},[t]),children:g.map((e=>{const t={className:(0,x.A)("_at8s_rB",{LIFf2ipz:o},[l>=e?"tJW47b5h":"KwJSFqOR"]),Svg:p,key:e,width:r,height:r,onMouseLeave:u,onMouseEnter:(a=e,()=>{o||c(a)}),onClick:h(e),"data-testid":`StarRating.${e}`,"data-selected":l>=e};var a;return(0,m.jsx)(i.zJ,{feature:"isAppRedesigned",on:(0,m.jsx)(f.J,{clickable:!o,...t}),off:(0,m.jsx)(j.J,{...t})})}))})}));var v=a(526),k=a(8190),y=a(7231),b=a(8787),L=a(169),R=a(5301),A=a(6452),I=a(8969);const z=(0,n.memo)((e=>{const{className:t,onAccept:a,feedbackTitle:s,hasFeedback:l,onCancel:h,title:p,rate:x=0}=e,{t:f}=(0,r.$)(),[j,g]=(0,n.useState)(!1),[z,S]=(0,n.useState)(x),[w,N]=(0,n.useState)(""),O=(0,c.F)(),J=(0,n.useCallback)((e=>{S(e),l?g(!0):a?.(e)}),[l,a]),F=(0,n.useCallback)((()=>{g(!1),a?.(z,w)}),[w,a,z]),W=(0,n.useCallback)((()=>{g(!1),h?.(z)}),[h,z]),q=(0,m.jsx)(i.zJ,{feature:"isAppRedesigned",on:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.x,{title:s}),(0,m.jsx)(L.I,{value:w,onChange:N,placeholder:f("Your rate")})]}),off:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v.xv,{title:s}),(0,m.jsx)(u.I,{value:w,onChange:N,placeholder:f("Your rate")})]})}),B=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(A.g,{align:"center",gap:"8",max:!0,children:[(0,m.jsx)(i.zJ,{feature:"isAppRedesigned",on:(0,m.jsx)(I.x,{title:z?f("Thanks for rate!"):p}),off:(0,m.jsx)(v.xv,{title:z?f("Thanks for rate!"):p})}),(0,m.jsx)(C,{selectedStars:z,size:40,onSelect:J})]}),(0,m.jsx)(R.u,{isOpen:j,lazy:!0,children:(0,m.jsxs)(A.g,{max:!0,gap:"32",children:[q,(0,m.jsx)(i.zJ,{feature:"isAppRedesigned",on:(0,m.jsxs)(A.U,{max:!0,gap:"16",justify:"end",children:[(0,m.jsx)(k.z,{onClick:W,children:f("Close")}),(0,m.jsx)(k.z,{onClick:F,children:f("Send")})]}),off:(0,m.jsxs)(A.U,{max:!0,gap:"16",justify:"end",children:[(0,m.jsx)(o.zx,{onClick:W,theme:o.bn.OUTLINE_RED,children:f("Close")}),(0,m.jsx)(o.zx,{onClick:F,children:f("Send")})]})})]})})]});return O?(0,m.jsx)(b.d,{isOpen:j,lazy:!0,onClose:W,children:(0,m.jsxs)(A.g,{gap:"32",children:[q,(0,m.jsx)(i.zJ,{feature:"isAppRedesigned",on:(0,m.jsx)(k.z,{fullWidth:!0,onClick:F,size:"l",children:f("Send")}),off:(0,m.jsx)(o.zx,{fullWidth:!0,onClick:F,size:o.qE.L,children:f("Send")})})]})}):(0,m.jsx)(i.zJ,{feature:"isAppRedesigned",on:(0,m.jsx)(y.Z,{border:"partial",padding:"24",max:!0,children:B}),off:(0,m.jsx)(d.Z,{className:t,max:!0,children:B})})}));var S=a(2135),w=a(8281);const N=a(6628).p.injectEndpoints({endpoints:e=>({getArticleRating:e.query({query:e=>{let{articleId:t,userId:a}=e;return{url:"/article-ratings",params:{userId:a,articleId:t}}}}),rateArticle:e.mutation({query:e=>({url:"/article-ratings",method:"POST",body:e})})})}),O=N.useGetArticleRatingQuery,J=N.useRateArticleMutation;var F=(0,n.memo)((e=>{const{className:t,articleId:a}=e,{t:s}=(0,r.$)(),i=(0,l.v9)(S.m5),{data:c,isLoading:o}=O({articleId:a,userId:i?.id??""}),[d]=J(),u=(0,n.useCallback)(((e,t)=>{try{d({userId:i?.id??"",articleId:a,rate:e,feedback:t})}catch(e){console.log(e)}}),[a,d,i?.id]),h=(0,n.useCallback)(((e,t)=>{u(e,t)}),[u]),p=(0,n.useCallback)((e=>{u(e)}),[u]);if(o)return(0,m.jsx)(w.O,{width:"100%",height:120});const x=c?.[0];return(0,m.jsx)(z,{onCancel:p,onAccept:h,rate:x?.rate,className:t,title:s("Rate this article"),feedbackTitle:s("Leave feedback on the article, this will help improve the quality"),hasFeedback:!0})}))}}]);