"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[676],{8791:function(e,a,r){r.d(a,{I:function(){return o}});var n=r(7294),t=r(3007),s={InputWrapper:"p_6dRLUG",placeholder:"uWIRRz2O",input:"Z6IBiNl_",caretWrapper:"tDY7ayAp",caret:"Y3U88xm_",blink:"nAPg6J3a",readonly:"sFcbjx23"},l=r(5893);const o=(0,n.memo)((e=>{const{className:a,value:r,onChange:o,placeholder:i,autoFocus:d,type:c="text",readonly:u,...h}=e,g=(0,n.useRef)(null),[x,p]=(0,n.useState)(!1),[m,C]=(0,n.useState)(0),f=x&&!u;(0,n.useEffect)((()=>{d&&(p(!0),g.current?.focus())}),[d]);const j={[s.readonly]:u};return(0,l.jsxs)("div",{className:(0,t.A)(s.InputWrapper,j,[a]),children:[i&&(0,l.jsx)("div",{className:s.Placeholder,children:`${i}>`}),(0,l.jsxs)("div",{className:s.caretWrapper,children:[(0,l.jsx)("input",{ref:g,type:c,value:r,onChange:e=>{o?.(e.target.value),C(e.target.value.length)},className:s.input,onFocus:()=>{p(!0)},onBlur:()=>{p(!1)},onSelect:e=>{C(e?.target?.selectionStart||0)},readOnly:u,...h}),f&&(0,l.jsx)("span",{className:s.caret,style:{left:9*m+"px"}})]})]})}))},169:function(e,a,r){r.d(a,{I:function(){return d}});var n=r(7294),t=r(3007),s=r(6452),l=r(8969),o={InputWrapper:"ZyI7rxIe",s:"mKldd7L_",m:"IyQiG8hL",l:"j7JcqtN4",addonLeft:"OqwwYwm8",addonRight:"o_xLYaZC",withAddonLeft:"zVArqqw4",withAddonRight:"HxXya_r8",focused:"jUzuVRdk",input:"L2BiQ3jT",readonly:"xspqW3a0"},i=r(5893);const d=(0,n.memo)((e=>{const{className:a,value:r,onChange:d,type:c="text",placeholder:u,autofocus:h,readonly:g,addonLeft:x,addonRight:p,label:m,size:C="m",...f}=e,j=(0,n.useRef)(null),[y,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{h&&(v(!0),j.current?.focus())}),[h]);const R={[o.readonly]:g,[o.focused]:y,[o.withAddonLeft]:Boolean(x),[o.withAddonRight]:Boolean(p)},N=(0,i.jsxs)("div",{className:(0,t.A)(o.InputWrapper,R,[a,o[C]]),children:[(0,i.jsx)("div",{className:o.addonLeft,children:x}),(0,i.jsx)("input",{ref:j,type:c,value:r,onChange:e=>{d?.(e.target.value)},className:o.input,onFocus:()=>{v(!0)},onBlur:()=>{v(!1)},readOnly:g,placeholder:u,...f}),(0,i.jsx)("div",{className:o.addonRight,children:p})]});return m?(0,i.jsxs)(s.U,{max:!0,gap:"8",children:[(0,i.jsx)(l.x,{text:m}),N]}):N}))},2676:function(e,a,r){r.r(a),r.d(a,{default:function(){return se}});var n=r(9250),t=r(7294),s=r(2327),l=r(743),o=r(7499);let i;!function(e){e.Israel="Israel",e.Ukraine="Ukraine",e.Georgia="Georgia",e.Germany="Germany"}(i||(i={}));var d=r(2005),c=r(5108),u=r(5893);const h=[{value:i.Ukraine,content:i.Ukraine},{value:i.Israel,content:i.Israel},{value:i.Germany,content:i.Germany},{value:i.Georgia,content:i.Georgia}],g=(0,t.memo)((e=>{let{className:a,value:r,onChange:n,readonly:l}=e;const{t:i}=(0,s.$)(),g=(0,t.useCallback)((e=>{n?.(e)}),[n]),x={className:a,value:r,defaultValue:i("Choose the country"),label:i("Choose the country"),items:h,onChange:g,readonly:l,direction:"top right"};return(0,u.jsx)(o.zJ,{feature:"isAppRedesigned",on:(0,u.jsx)(c.wb,{...x}),off:(0,u.jsx)(d.wb,{...x})})}));let x;!function(e){e.EUR="EUR",e.ILS="ILS",e.USD="USD"}(x||(x={}));const p=[{value:x.ILS,content:x.ILS},{value:x.EUR,content:x.EUR},{value:x.USD,content:x.USD}],m=(0,t.memo)((e=>{let{className:a,value:r,onChange:n,readonly:l}=e;const{t:i}=(0,s.$)(),h=(0,t.useCallback)((e=>{n?.(e)}),[n]),g={className:a,value:r,defaultValue:i("Select currency"),label:i("Select currency"),items:p,onChange:h,readonly:l,direction:"top right"};return(0,u.jsx)(o.zJ,{feature:"isAppRedesigned",on:(0,u.jsx)(c.wb,{...g}),off:(0,u.jsx)(d.wb,{...g})})}));var C=r(3007),f=r(9085),j=r(8791),y=r(7953),v=r(526),R=r(6452),N={ProfileCard:"QTLlYN1L",loading:"TX39V40k",error:"bA_iT2GX",editing:"FmG40szU"};const E=()=>{const{t:e}=(0,s.$)();return(0,u.jsx)(R.U,{justify:"center",max:!0,className:(0,C.A)(N.ProfileCard,{},[N.error]),children:(0,u.jsx)(v.xv,{theme:v.lg.ERROR,title:e("An error occurred while loading the profile"),text:e("Try reload page"),align:v.PH.CENTER})})},A=()=>(0,u.jsx)(R.U,{justify:"center",max:!0,className:(0,C.A)(N.ProfileCard,{[N.loading]:!0}),children:(0,u.jsx)(y.a,{})}),I=(0,t.memo)((e=>{const{className:a,data:r,readonly:n,onChangeFirstname:t,onChangeLastname:l,onChangeAge:o,onChangeCity:i,onChangeAvatar:d,onChangeUsername:c,onChangeCountry:h,onChangeCurrency:x}=e,{t:p}=(0,s.$)("profile"),y={[N.editing]:!n};return(0,u.jsxs)(R.g,{gap:"8",max:!0,className:(0,C.A)(N.ProfileCard,y,[a]),children:[r?.avatar&&(0,u.jsx)(R.U,{justify:"center",max:!0,className:N.avatarWrapper,children:(0,u.jsx)(f.q,{src:r?.avatar})}),(0,u.jsx)(j.I,{value:r?.first,placeholder:p("Your name"),className:N.input,onChange:t,readonly:n}),(0,u.jsx)(j.I,{value:r?.lastname,placeholder:p("Last name"),className:N.input,onChange:l,readonly:n}),(0,u.jsx)(j.I,{value:r?.age,placeholder:p("Your age"),className:N.input,onChange:o,readonly:n}),(0,u.jsx)(j.I,{value:r?.city,placeholder:p("City"),className:N.input,onChange:i,readonly:n}),(0,u.jsx)(j.I,{value:r?.username,placeholder:p("Enter username"),className:N.input,onChange:c,readonly:n}),(0,u.jsx)(j.I,{value:r?.avatar,placeholder:p("Enter link to avatar"),className:N.input,onChange:d,readonly:n}),(0,u.jsx)(m,{className:N.input,value:r?.currency,onChange:x,readonly:n}),(0,u.jsx)(g,{className:N.input,value:r?.country,onChange:h,readonly:n})]})}));var O=r(7184),U=r(7231),b=r(169),T=r(6265),L=r(8969);const w=()=>{const{t:e}=(0,s.$)();return(0,u.jsx)(R.U,{justify:"center",max:!0,children:(0,u.jsx)(L.x,{variant:"error",title:e("An error occurred while loading the profile"),text:e("Try reload page"),align:"center"})})},k=()=>(0,u.jsx)(U.Z,{padding:"24",max:!0,children:(0,u.jsxs)(R.g,{gap:"32",children:[(0,u.jsx)(R.U,{max:!0,justify:"center",children:(0,u.jsx)(T.O,{border:"100%",width:128,height:128})}),(0,u.jsxs)(R.U,{gap:"32",max:!0,children:[(0,u.jsxs)(R.g,{gap:"16",max:!0,children:[(0,u.jsx)(T.O,{width:"100%",height:38}),(0,u.jsx)(T.O,{width:"100%",height:38}),(0,u.jsx)(T.O,{width:"100%",height:38}),(0,u.jsx)(T.O,{width:"100%",height:38})]}),(0,u.jsxs)(R.g,{gap:"16",max:!0,children:[(0,u.jsx)(T.O,{width:"100%",height:38}),(0,u.jsx)(T.O,{width:"100%",height:38}),(0,u.jsx)(T.O,{width:"100%",height:38}),(0,u.jsx)(T.O,{width:"100%",height:38})]})]})]})}),_=(0,t.memo)((e=>{const{className:a,data:r,readonly:n,onChangeFirstname:t,onChangeLastname:l,onChangeAge:o,onChangeCity:i,onChangeAvatar:d,onChangeUsername:c,onChangeCountry:h,onChangeCurrency:x}=e,{t:p}=(0,s.$)("profile");return(0,u.jsx)(U.Z,{padding:"24",border:"partial",max:!0,className:a,children:(0,u.jsxs)(R.g,{gap:"32",children:[r?.avatar&&(0,u.jsx)(R.U,{justify:"center",max:!0,children:(0,u.jsx)(O.q,{size:128,src:r?.avatar})}),(0,u.jsxs)(R.U,{gap:"24",max:!0,children:[(0,u.jsxs)(R.g,{gap:"16",max:!0,children:[(0,u.jsx)(b.I,{value:r?.first,label:p("Name"),onChange:t,readonly:n}),(0,u.jsx)(b.I,{value:r?.lastname,label:p("Surname"),onChange:l,readonly:n}),(0,u.jsx)(b.I,{value:r?.age,label:p("Age"),onChange:o,readonly:n}),(0,u.jsx)(b.I,{value:r?.city,label:p("City"),onChange:i,readonly:n})]}),(0,u.jsxs)(R.g,{gap:"16",max:!0,children:[(0,u.jsx)(b.I,{value:r?.username,label:p("Username"),onChange:c,readonly:n}),(0,u.jsx)(b.I,{value:r?.avatar,label:p("Link to avatar"),onChange:d,readonly:n}),(0,u.jsx)(m,{value:r?.currency,onChange:x,readonly:n}),(0,u.jsx)(g,{value:r?.country,onChange:h,readonly:n})]})]})]})})})),S=e=>{const{isLoading:a,error:r}=e,{t:n}=(0,s.$)();return a?(0,u.jsx)(o.zJ,{feature:"isAppRedesigned",on:(0,u.jsx)(k,{}),off:(0,u.jsx)(A,{})}):r?(0,u.jsx)(o.zJ,{feature:"isAppRedesigned",on:(0,u.jsx)(w,{}),off:(0,u.jsx)(E,{})}):(0,u.jsx)(o.zJ,{feature:"isAppRedesigned",on:(0,u.jsx)(_,{...e}),off:(0,u.jsx)(I,{...e})})};var P=r(9864),z=r(5401),D=r(9970);let G;!function(e){e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_COUNTRY="INCORRECT_COUNTRY",e.NO_DATA="NO_DATA",e.SERVER_ERROR="SERVER_ERROR"}(G||(G={}));const $=e=>e.profile?.error,W=e=>e.profile?.form,Y=e=>e.profile?.isLoading,V=e=>e.profile?.readonly,F=e=>e.profile?.validateErrors;var J=r(4268);const q=(0,J.hg)("profile/fetchProfileData",(async(e,a)=>{const{extra:r,rejectWithValue:n}=a;try{const a=await r.api.get(`/profile/${e}`);if(!a.data)throw new Error;return a.data}catch(e){return console.log(e),n("Error")}})),B=(0,J.hg)("profile/updateProfileData",(async(e,a)=>{const{extra:r,rejectWithValue:n,getState:t}=a,s=W(t()),l=(e=>{if(!e)return G.NO_DATA;const{first:a,lastname:r,country:n,age:t}=e,s=[];return a&&r||s.push(G.INCORRECT_USER_DATA),t&&Number.isInteger(t)||s.push(G.INCORRECT_AGE),n||s.push(G.INCORRECT_COUNTRY),s})(s);if(l.length)return n(l);try{const e=await r.api.put(`/profile/${s?.id}`,s);if(!e.data)throw new Error;return e.data}catch(e){return console.log(e),n([G.SERVER_ERROR])}})),Z=(0,J.oM)({name:"profile",initialState:{data:void 0,readonly:!0,isLoading:!1,error:void 0},reducers:{setReadonly:(e,a)=>{e.readonly=a.payload},canselEdit:e=>{e.readonly=!0,e.form=e.data,e.validateErrors=void 0},updateProfile:(e,a)=>{e.form={...e.data,...a.payload}}},extraReducers:e=>{e.addCase(q.pending,(e=>{e.error=void 0,e.isLoading=!0})).addCase(q.fulfilled,((e,a)=>{e.isLoading=!1,e.data=a.payload,e.form=a.payload})).addCase(q.rejected,((e,a)=>{e.isLoading=!1,e.error=a.payload})).addCase(B.pending,(e=>{e.validateErrors=void 0,e.isLoading=!0})).addCase(B.fulfilled,((e,a)=>{e.isLoading=!1,e.data=a.payload,e.form=a.payload,e.readonly=!0,e.validateErrors=void 0})).addCase(B.rejected,((e,a)=>{e.isLoading=!1,e.validateErrors=a.payload}))}}),{actions:M}=Z,{reducer:Q}=Z;var X=r(2135),H=r(7702),K=r(8190);const ee=e=>e.profile?.data,ae=(0,t.memo)((e=>{const{className:a}=e,{t:r}=(0,s.$)("profile"),n=(0,l.v9)(X.m5),i=(0,l.v9)(ee),d=n?.id===i?.id,c=(0,l.v9)(V),h=(0,z.T)(),g=(0,t.useCallback)((()=>{h(M.setReadonly(!1))}),[h]),x=(0,t.useCallback)((()=>{h(M.canselEdit())}),[h]),p=(0,t.useCallback)((()=>{h(B())}),[h]);return(0,u.jsx)(o.zJ,{feature:"isAppRedesigned",on:(0,u.jsx)(U.Z,{border:"partial",padding:"24",max:!0,children:(0,u.jsxs)(R.U,{max:!0,justify:"between",className:(0,C.A)("",{},[a]),children:[(0,u.jsx)(L.x,{title:r("Profile")}),d&&(0,u.jsx)("div",{children:c?(0,u.jsx)(K.z,{variant:"outline",onClick:g,children:r("Edit")}):(0,u.jsxs)(R.U,{gap:"8",children:[(0,u.jsx)(K.z,{variant:"outline",onClick:x,color:"error",children:r("Cancel")}),(0,u.jsx)(K.z,{variant:"outline",onClick:p,color:"success",children:r("Save")})]})})]})}),off:(0,u.jsxs)(R.U,{max:!0,justify:"between",className:(0,C.A)("",{},[a]),children:[(0,u.jsx)(L.x,{title:r("Profile")}),d&&(0,u.jsx)("div",{children:c?(0,u.jsx)(H.zx,{theme:H.bn.OUTLINE,onClick:g,children:r("Edit")}):(0,u.jsxs)(R.U,{gap:"8",children:[(0,u.jsx)(H.zx,{theme:H.bn.OUTLINE_RED,onClick:x,children:r("Cancel")}),(0,u.jsx)(H.zx,{theme:H.bn.OUTLINE,onClick:p,children:r("Save")})]})})]})})})),re={profile:Q},ne=(0,t.memo)((e=>{const{className:a,id:r}=e,{t:n}=(0,s.$)("profile"),o=(0,z.T)(),i=(0,l.v9)(W),d=(0,l.v9)(Y),c=(0,l.v9)($),h=(0,l.v9)(V),g=(0,l.v9)(F),x={[G.SERVER_ERROR]:n("Server error"),[G.INCORRECT_USER_DATA]:n("Incorrect user data"),[G.NO_DATA]:n("No data"),[G.INCORRECT_AGE]:n("Incorrect age"),[G.INCORRECT_COUNTRY]:n("Incorrect country")};(0,D.Q)((()=>{r&&o(q(r))}));const p=(0,t.useCallback)((e=>{o(M.updateProfile({first:e||""}))}),[o]),m=(0,t.useCallback)((e=>{o(M.updateProfile({lastname:e||""}))}),[o]),f=(0,t.useCallback)((e=>{o(M.updateProfile({city:e||""}))}),[o]),j=(0,t.useCallback)((e=>{o(M.updateProfile({age:Number(e||0)}))}),[o]),y=(0,t.useCallback)((e=>{o(M.updateProfile({username:e||""}))}),[o]),N=(0,t.useCallback)((e=>{o(M.updateProfile({avatar:e||""}))}),[o]),E=(0,t.useCallback)((e=>{o(M.updateProfile({currency:e}))}),[o]),A=(0,t.useCallback)((e=>{o(M.updateProfile({country:e}))}),[o]);return(0,u.jsx)(P.W,{reducers:re,children:(0,u.jsxs)(R.g,{gap:"16",max:!0,className:(0,C.A)("",{},[a]),children:[(0,u.jsx)(ae,{}),g?.length&&g.map((e=>(0,u.jsx)(v.xv,{theme:v.lg.ERROR,text:x[e]},e))),(0,u.jsx)(S,{data:i,isLoading:d,error:c,readonly:h,onChangeFirstname:p,onChangeLastname:m,onChangeAge:j,onChangeCity:f,onChangeUsername:y,onChangeAvatar:N,onChangeCurrency:E,onChangeCountry:A})]})})}));var te=r(2896),se=e=>{let{className:a}=e;const{id:r}=(0,n.UO)();return(0,u.jsx)(te.T,{className:(0,C.A)("",{},[a]),children:(0,u.jsx)(R.g,{gap:"16",max:!0,children:(0,u.jsx)(ne,{id:r})})})}},9864:function(e,a,r){r.d(a,{W:function(){return l}});var n=r(7294),t=r(743),s=r(5893);const l=e=>{const{children:a,reducers:r,removeAfterUnmount:l=!0}=e,o=(0,t.oR)(),i=(0,t.I0)();return(0,n.useEffect)((()=>{const e=o.reducerManager.getMountedReducers();return Object.entries(r).forEach((a=>{let[r,n]=a;e[r]||(o.reducerManager.add(r,n),i({type:`@INIT ${r} reducer`}))})),()=>{l&&Object.entries(r).forEach((e=>{let[a,r]=e;o.reducerManager.remove(a),i({type:`@DESTROY ${a} reducer`})}))}}),[]),(0,s.jsx)(s.Fragment,{children:a})}}}]);